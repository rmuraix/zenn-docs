---
title: "個人的Renovate設定：依存関係の自動更新を実践"
emoji: "🤖"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["renovate"]
published: false
---

## はじめに

依存関係の管理は、ソフトウェア開発において避けて通れない課題です。依存関係の更新を放置していると技術的負債として蓄積され、いずれ更新が困難になるという問題が生じます。バージョン差が広がることで互換性の問題が発生し、一度の更新に多大なコストがかかるケースは珍しくありません。
このような問題を軽減するために、私は個人のリポジトリやOrganizationで**Renovate**を導入し、依存関係を自動更新しています。
本記事では、私が記事公開時点で使用しているRenovate設定を紹介し、その具体的な設定内容について解説します。なお、設定は以下のリポジトリで公開しています。

https://github.com/rmuraix/renovate-config

正確性には十分注意していますが、私はプロフェッショナルではないため誤りを含む可能性があることをご理解ください。

## Renovateとは

[Renovate](https://docs.renovatebot.com/)は、依存するパッケージを自動的に更新するためのオープンソースツールです。新しいバージョンのリリースを検知し、自動でPull Requestを作成することで、依存関係の更新作業を効率化します。
Renovateとよく比較されるのがGitHub公式の[Dependabot](https://docs.github.com/ja/code-security/dependabot/working-with-dependabot)です。両者は似た機能を持っていますが、以下の理由から私はRenovateを選択しました。

- **対応パッケージ・ツールの多さ**：Renovateはより多くのパッケージマネージャーやツールをサポートしている。例えばPython界隈で最近人気の[uv](https://github.com/astral-sh/uv)は、記事公開時点でDependabotはサポートしていない。
- **自動マージ設定が容易**：Dependabotは[GitHub Actionsとの併用が必要](https://docs.github.com/ja/code-security/dependabot/working-with-dependabot/automating-dependabot-with-github-actions#enabling-automerge-on-a-pull-request)だが、Renovateは設定ファイルのみで自動マージ可能。

このように、**柔軟性と拡張性の高さ**がRenovateの大きな魅力です。次のセクションでは、実際に私がどのようにRenovateを設定し、運用しているかを具体的に紹介していきます。

## 個人的Renovate設定の全体像

私は、個人のプロジェクトおよび所属するOrganizationでRenovateを使用しています。例として、以下のような技術スタックのリポジトリで使用しています。

- Next.js, React, AstroなどのNode.jsパッケージを使用した、WebアプリケーションやWebサイト
- PyTorchやuvなどを使用する機械学習プロジェクト
- DockerやGitHub Actions

これらをカバーするため、冒頭で紹介したリポジトリに設定をまとめ、複数のリポジトリで再利用しています。これにより各プロジェクトごとに個別設定を書く手間を省いています。
共通設定の再利用方法については、以下の公式ドキュメントが参考になります。

https://docs.renovatebot.com/config-presets/

より具体的には、`default.json`に基本的な設定を書き、`group*.json`などに目的ごとの設定を記述する形を取っています。これは、株式会社はてなの[hatena/renovate-config](https://github.com/hatena/renovate-config)に影響を受けています。
